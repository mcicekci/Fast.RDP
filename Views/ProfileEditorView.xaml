<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="FastRDP.Views.ProfileEditorView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Width="500"
    Height="600">

    <ScrollViewer>
        <StackPanel Spacing="16" Padding="24">
            
            <!-- Bağlantı Adı -->
            <StackPanel Spacing="8">
                <TextBlock Text="Bağlantı Adı *" FontWeight="SemiBold"/>
                <TextBox PlaceholderText="örn: ERP Sunucusu"
                         Text="{x:Bind ViewModel.Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
            </StackPanel>

            <!-- Host / IP -->
            <StackPanel Spacing="8">
                <TextBlock Text="Host / IP Adresi *" FontWeight="SemiBold"/>
                <TextBox PlaceholderText="örn: 192.168.1.100 veya server.company.com"
                         Text="{x:Bind ViewModel.Host, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
            </StackPanel>

            <!-- Kullanıcı Adı -->
            <StackPanel Spacing="8">
                <TextBlock Text="Kullanıcı Adı" FontWeight="SemiBold"/>
                <TextBox PlaceholderText="örn: administrator"
                         Text="{x:Bind ViewModel.Username, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
            </StackPanel>

            <!-- Domain -->
            <StackPanel Spacing="8">
                <TextBlock Text="Domain (Opsiyonel)" FontWeight="SemiBold"/>
                <TextBox PlaceholderText="örn: WORKGROUP veya COMPANY"
                         Text="{x:Bind ViewModel.Domain, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
            </StackPanel>

            <!-- Çözünürlük -->
            <StackPanel Spacing="8">
                <TextBlock Text="Ekran Çözünürlüğü" FontWeight="SemiBold"/>
                <ComboBox ItemsSource="{x:Bind ViewModel.AvailableResolutions}"
                          SelectedItem="{x:Bind ViewModel.Resolution, Mode=TwoWay}"
                          HorizontalAlignment="Stretch"/>
            </StackPanel>

            <!-- Etiketler -->
            <StackPanel Spacing="8">
                <TextBlock Text="Etiketler" FontWeight="SemiBold"/>
                <Grid ColumnSpacing="8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBox Grid.Column="0"
                             PlaceholderText="Etiket ekle..."
                             Text="{x:Bind ViewModel.NewTag, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    <Button Grid.Column="1"
                            Content="Ekle"
                            Command="{x:Bind ViewModel.AddTagCommand}"
                            Style="{StaticResource AccentButtonStyle}"/>
                </Grid>
                
                <ItemsControl ItemsSource="{x:Bind ViewModel.Tags, Mode=OneWay}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate x:DataType="x:String">
                            <Border Background="{ThemeResource AccentFillColorDefaultBrush}"
                                    CornerRadius="4"
                                    Padding="8,4"
                                    Margin="4,2">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <TextBlock Text="{x:Bind}" 
                                               Foreground="White"
                                               FontSize="12"/>
                                    <Button Content="&#xE711;" 
                                            FontFamily="Segoe MDL2 Assets"
                                            FontSize="10"
                                            Padding="4"
                                            MinWidth="0"
                                            MinHeight="0"
                                            Background="Transparent"
                                            Foreground="White"
                                            CommandParameter="{x:Bind}"/>
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <ItemsWrapGrid Orientation="Horizontal"/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </StackPanel>

            <!-- Notlar -->
            <StackPanel Spacing="8">
                <TextBlock Text="Notlar" FontWeight="SemiBold"/>
                <TextBox PlaceholderText="Notlarınızı buraya yazabilirsiniz..."
                         Text="{x:Bind ViewModel.Notes, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                         TextWrapping="Wrap"
                         AcceptsReturn="True"
                         Height="100"/>
            </StackPanel>

            <!-- Favori -->
            <CheckBox Content="Favorilere ekle"
                      IsChecked="{x:Bind ViewModel.Favorite, Mode=TwoWay}">
                <CheckBox.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE735;" FontSize="16"/>
                            <TextBlock Text="Favorilere ekle"/>
                        </StackPanel>
                    </DataTemplate>
                </CheckBox.ContentTemplate>
            </CheckBox>

            <!-- Test Bağlantı Butonu -->
            <Button Content="Test Bağlantısı"
                    Command="{x:Bind ViewModel.TestConnectionCommand}"
                    HorizontalAlignment="Stretch">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE7BA;" FontSize="16"/>
                            <TextBlock Text="Test Bağlantısı"/>
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <InfoBar Severity="Informational" 
                     IsOpen="True"
                     IsClosable="False"
                     Message="* ile işaretli alanlar zorunludur."/>
        </StackPanel>
    </ScrollViewer>
</UserControl>

